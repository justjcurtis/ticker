/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/data/Deltas.csv":
/*!*****************************!*\
  !*** ./src/data/Deltas.csv ***!
  \*****************************/
/***/ ((module) => {

eval("module.exports = [[null,null,659.21,-1.69,\"-0.26%\"],[null,null,160,-2.89,\"-1.77%\"],[null,null,11.87,-0.04,\"-0.34%\"],[null,null,null,null,null],[null,null,34.8,-0.39,\"-1.11%\"],[null,null,46.04,-0.57,\"-1.22%\"],[null,null,null,null,null],[null,null,94.17,-1.14,\"-1.20%\"],[null,null,113.28,-1.73,\"-1.51%\"],[null,null,27.03,-0.58,\"-2.10%\"],[1500,null,null,null,null],[null,null,659.24,-1.66,\"-0.25%\"],[null,null,160.1,-2.79,\"-1.72%\"],[null,null,11.86,-0.05,\"-0.42%\"],[null,null,null,null,null],[null,null,34.81,-0.38,\"-1.08%\"],[null,null,46.11,-0.5,\"-1.07%\"],[null,null,72.75,-0.86,\"-1.17%\"],[null,null,94.13,-1.18,\"-1.24%\"],[null,null,113.35,-1.67,\"-1.45%\"],[null,null,null,null,null],[900,null,null,null,null],[null,null,659,-1.9,\"-0.29%\"],[null,null,159.9,-2.99,\"-1.84%\"],[null,null,11.83,-0.08,\"-0.67%\"],[null,null,null,null,null],[null,null,34.79,-0.4,\"-1.12%\"],[null,null,46.02,-0.59,\"-1.27%\"],[null,null,null,null,null],[null,null,94.04,-1.27,\"-1.33%\"],[null,null,113.29,-1.72,\"-1.50%\"],[null,null,26.96,-0.65,\"-2.35%\"],[2000,null,null,null,null],[null,null,658.5,-2.4,\"-0.36%\"],[null,null,159.83,-3.06,\"-1.88%\"],[null,null,11.8,-0.11,\"-0.92%\"],[null,null,null,null,null],[null,null,34.88,-0.31,\"-0.88%\"],[null,null,46.11,-0.5,\"-1.07%\"],[null,null,72.76,-0.85,\"-1.16%\"],[null,null,94.02,-1.29,\"-1.35%\"],[null,null,113.26,-1.75,\"-1.52%\"],[null,null,26.99,-0.62,\"-2.25%\"],[486,null,null,null,null],[null,null,657.69,-3.21,\"-0.49%\"],[null,null,159.82,-3.07,\"-1.88%\"],[null,null,11.78,-0.13,\"-1.09%\"],[null,null,null,null,null],[null,null,34.76,-0.43,\"-1.22%\"],[null,null,46,-0.61,\"-1.31%\"],[null,null,72.97,-0.64,\"-0.87%\"],[null,null,93.97,-1.34,\"-1.41%\"],[null,null,113.25,-1.76,\"-1.53%\"],[null,null,26.94,-0.67,\"-2.43%\"],[456,null,null,null,null],[null,null,657.55,-3.35,\"-0.51%\"],[null,null,159.79,-3.1,\"-1.91%\"],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,46.01,-0.6,\"-1.28%\"],[null,null,72.74,-0.88,\"-1.19%\"],[null,null,93.88,-1.43,\"-1.50%\"],[null,null,113.23,-1.78,\"-1.55%\"],[null,null,26.96,-0.65,\"-2.35%\"],[1499,null,null,null,null],[null,null,660.1,-0.8,\"-0.12%\"],[null,null,160.21,-2.68,\"-1.64%\"],[null,null,null,null,null],[null,null,null,null,null],[null,null,34.88,-0.31,\"-0.88%\"],[null,null,46.1,-0.51,\"-1.09%\"],[null,null,72.76,-0.85,\"-1.15%\"],[null,null,null,null,null],[null,null,113.25,-1.76,\"-1.53%\"],[null,null,26.99,-0.62,\"-2.25%\"],[3000,null,null,null,null],[null,null,null,null,null],[null,null,160.07,-2.82,\"-0.02%\"],[null,null,11.87,-0.04,\"0.00%\"],[null,null,null,null,null],[null,null,34.87,-0.32,\"-0.01%\"],[null,null,46.02,-0.59,\"-0.01%\"],[null,null,72.78,-0.83,\"-0.01%\"],[null,null,93.92,-1.39,\"-0.01%\"],[null,null,113.26,-1.75,\"-0.02%\"],[null,null,null,null,null],[4000,null,null,null,null],[null,null,657.4,-3.5,\"-0.01%\"],[null,null,159.71,-3.18,\"-0.02%\"],[null,null,11.77,-0.14,\"-0.01%\"],[null,null,null,null,null],[null,null,34.78,-0.41,\"-0.01%\"],[null,null,46.05,-0.56,\"-0.01%\"],[null,null,72.76,-0.85,\"-0.01%\"],[null,null,94.21,-1.1,\"-0.01%\"],[null,null,113.29,-1.72,\"-0.02%\"],[null,null,27.04,-0.57,\"-0.02%\"],[400,null,null,null,null],[null,null,657.87,-3.03,\"0.00%\"],[null,null,159.9,-2.99,\"-0.02%\"],[null,null,11.77,-0.14,\"-0.01%\"],[null,null,null,null,null],[null,null,34.79,-0.4,\"-0.01%\"],[null,null,46.01,-0.6,\"-0.01%\"],[null,null,72.7,-0.91,\"-0.01%\"],[null,null,93.94,-1.37,\"-0.01%\"],[null,null,113.32,-1.69,\"-0.01%\"],[null,null,27.03,-0.58,\"-0.02%\"],[7000,null,null,null,null],[null,null,657.93,-2.97,\"0.00%\"],[null,null,159.93,-2.96,\"-0.02%\"],[null,null,null,null,null],[null,null,13.47,-0.08,\"-0.01%\"],[null,null,34.85,-0.34,\"-0.01%\"],[null,null,46.02,-0.59,\"-0.01%\"],[null,null,72.88,-0.73,\"-0.01%\"],[null,null,93.93,-1.38,\"-0.01%\"],[null,null,113.62,-1.39,\"-0.01%\"],[null,null,27.01,-0.6,\"-0.02%\"],[1300,null,null,null,null]]\n\n//# sourceURL=webpack:///./src/data/Deltas.csv?");

/***/ }),

/***/ "./src/data/snapshot.csv":
/*!*******************************!*\
  !*** ./src/data/snapshot.csv ***!
  \*******************************/
/***/ ((module) => {

eval("module.exports = [[\"Name\",\"Company Name\",\"Price\",\"Change\",\"Chg %\",\"Mkt Cap\"],[\"GOOG\",\"Google Inc\",658.89,-2.01,\"-0.30%\",\"460.74B\"],[\"BIDU\",\"Baidu Inc (ADR)\",160.19,-2.7,\"-1.66%\",\"56.49B\"],[\"YNDX\",\"Yandex NV\",11.8,-0.11,\"-0.92%\",\"3.75B\"],[\"BCOR\",\"Blucora Inc\",13.43,-0.12,\"-0.89%\",\"557.51M\"],[\"YHOO\",\"Yahoo! Inc.\",34.79,-0.4,\"-1.14%\",\"32.76B\"],[\"MSFT\",\"Microsoft Corp\",46.17,-0.44,\"-0.93%\",\"369.67B\"],[\"IACI\",\"IAC/InterActiveCorp\",73.17,-0.44,\"-0.60%\",\"6.09B\"],[\"FB\",\"Facebook Inc\",94.2,-1.11,\"-1.16%\",\"264.27B\"],[\"AAPL\",\"Apple Inc.\",113.76,-1.25,\"-1.09%\",\"649.88B\"],[\"TWTR\",\"Twitter Inc\",27.19,-0.42,\"-1.52%\",\"18.35B\"]]\n\n//# sourceURL=webpack:///./src/data/snapshot.csv?");

/***/ }),

/***/ "./src/lib/deltasEngine.js":
/*!*********************************!*\
  !*** ./src/lib/deltasEngine.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const deltas = __webpack_require__(/*! ../data/Deltas.csv */ \"./src/data/Deltas.csv\");\nconst snapshot = __webpack_require__(/*! ../data/snapshot.csv */ \"./src/data/snapshot.csv\")\nconst Company = __webpack_require__(/*! ../models/company */ \"./src/models/company.js\");\nconst companyCount = snapshot.length - 1;\n\nclass DeltasEngine {\n    constructor() {\n        this.index = 0;\n        this.companies = [];\n        this.subscribers = []\n    }\n\n    getNext() {\n        const start = this.index * companyCount + this.index;\n        const end = start + companyCount;\n        if (end >= deltas.length) {\n            this.index = 0;\n            this.getNext();\n            return\n        }\n        const rows = deltas.slice(start, end);\n        const delay = deltas[end][0]\n        this.index++;\n        for (let i = 0; i < rows.length - 1; i++) {\n            const row = rows[i];\n            const company = this.companies[i]\n            company.addDelta(row);\n        }\n        this.notifySubscribers();\n        setTimeout(() => this.getNext(), delay);\n    }\n\n    start() {\n        for (let i = 1; i < snapshot.length; i++) {\n            const snapshotRow = snapshot[i];\n            const company = new Company(snapshotRow[0], snapshotRow[1]);\n            company.addDelta(snapshotRow);\n            this.companies.push(company);\n        }\n        this.notifySubscribers();\n        setTimeout(() => this.getNext(), Math.random() * 1000 + 1000);\n    }\n\n    registerSubscriber(subscriber) {\n        this.subscribers.push(subscriber);\n    }\n\n    notifySubscribers() {\n        for (const subscriber of this.subscribers) {\n            subscriber(this.companies);\n        }\n    }\n}\n\nmodule.exports = DeltasEngine;\n\n\n//# sourceURL=webpack:///./src/lib/deltasEngine.js?");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("const DeltaEngine = __webpack_require__(/*! ./lib/deltasEngine */ \"./src/lib/deltasEngine.js\")\nconst deltasEngine = new DeltaEngine()\n\nconst table = document.getElementById('companies')\n\nconst createRow = (company, body) => {\n    const row = document.createElement('tr')\n    row.classList.add('table-company')\n    row.id = company.symbol\n    const symbol = document.createElement('td')\n    symbol.innerText = company.symbol\n    const name = document.createElement('td')\n    name.innerText = company.name\n    const price = document.createElement('td')\n    price.innerText = company.current().price\n    const change = document.createElement('td')\n    change.innerText = company.current().change\n    const percentChange = document.createElement('td')\n    percentChange.innerText = company.current().changePercent\n    const marketCap = document.createElement('td')\n    marketCap.innerText = company.current().marketCap\n\n    row.appendChild(symbol)\n    row.appendChild(name)\n    row.appendChild(price)\n    row.appendChild(change)\n    row.appendChild(percentChange)\n    row.appendChild(marketCap)\n    body.appendChild(row)\n}\n\nconst createTable = (companies) => {\n    const header = document.createElement('tr')\n    header.classList.add('table-header')\n    const symbol = document.createElement('th')\n    symbol.innerText = 'Symbol'\n    const name = document.createElement('th')\n    name.innerText = 'Name'\n    const price = document.createElement('th')\n    price.innerText = 'Price'\n    const change = document.createElement('th')\n    change.innerText = 'Change'\n    const percentChange = document.createElement('th')\n    percentChange.innerText = '% Change'\n    const marketCap = document.createElement('th')\n    marketCap.innerText = 'Market Cap'\n\n    const body = document.createElement('tbody')\n\n    header.appendChild(symbol)\n    header.appendChild(name)\n    header.appendChild(price)\n    header.appendChild(change)\n    header.appendChild(percentChange)\n    header.appendChild(marketCap)\n    table.appendChild(header)\n    table.appendChild(body)\n\n    for (const company of companies) {\n        createRow(company, body)\n    }\n}\n\nconst updateCompanies = (companies) => {\n    for (const company of companies) {\n        const row = document.getElementById(company.symbol)\n        const price = row.children[2]\n        const change = row.children[3]\n        const percentChange = row.children[4]\n        const marketCap = row.children[5]\n\n        const current = company.current()\n        if (current.price > price.innerText) {\n            row.classList.add('table-company-up')\n            setTimeout(() => row.classList.remove('table-company-up'), Math.random() * 300 + 500)\n        }\n        if (current.price < price.innerText) {\n            row.classList.add('table-company-down')\n            setTimeout(() => row.classList.remove('table-company-down'), Math.random() * 300 + 500)\n        }\n        if (current.price) price.innerText = current.price\n        if (current.change) change.innerText = current.change\n        if (current.changePercent) percentChange.innerText = current.changePercent\n        if (current.marketCap) marketCap.innerText = current.marketCap\n    }\n}\n\nconst updateDom = (companies) => {\n    const firstRun = table.children.length === 0\n    if (firstRun) {\n        createTable(companies)\n        return\n    }\n    updateCompanies(companies)\n}\n\ndeltasEngine.registerSubscriber(updateDom)\ndeltasEngine.start()\n\n\n//# sourceURL=webpack:///./src/main.js?");

/***/ }),

/***/ "./src/models/company.js":
/*!*******************************!*\
  !*** ./src/models/company.js ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const Delta = __webpack_require__(/*! ./delta.js */ \"./src/models/delta.js\");\nclass Company {\n    constructor(symbol, name) {\n        this.symbol = symbol;\n        this.name = name;\n        this.history = [];\n    }\n    addDelta(deltaCSV) {\n        const delta = Delta.fromCsvRow([this.symbol, this.name, ...deltaCSV.slice(2)]);\n        this.history.push(delta);\n    }\n    current() {\n        return this.history[this.history.length - 1];\n    }\n}\nmodule.exports = Company;\n\n\n//# sourceURL=webpack:///./src/models/company.js?");

/***/ }),

/***/ "./src/models/delta.js":
/*!*****************************!*\
  !*** ./src/models/delta.js ***!
  \*****************************/
/***/ ((module) => {

eval("class Delta {\n    constructor(symbol, name, price, change, changePercent, marketCap) {\n        this.symbol = symbol;\n        this.name = name;\n        this.price = price;\n        this.change = change;\n        this.changePercent = changePercent;\n        this.marketCap = marketCap;\n    }\n    static fromCsvRow(row) {\n        return new Delta(row[0], row[1], row[2], row[3], row[4], row[5]);\n    }\n}\nmodule.exports = Delta;\n\n\n//# sourceURL=webpack:///./src/models/delta.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.js");
/******/ 	
/******/ })()
;